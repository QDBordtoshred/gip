<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banking App</title>
    <style>
        .category-card {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
            width: 200px;
            display: inline-block;
        }
    </style>
</head>
<body>

<h1>Banking App</h1>

<!-- Add money to account total -->
<label for="addMoney">Add Money:</label>
<input type="number" id="addMoney" placeholder="Enter amount">
<button onclick="addToTotal()">Add</button>

<!-- Create new category and goal -->
<label for="newCategory">New Category:</label>
<input type="text" id="newCategory" placeholder="Category Name">
<input type="number" id="categoryGoal" placeholder="Category Goal">
<button onclick="createCategory()">Create Category</button>

<!-- Transfer money to a category -->
<label for="selectCategory">Select Category:</label>
<select id="selectCategory">
    <!-- Add existing categories dynamically here -->
</select>
<input type="number" id="transferAmount" placeholder="Enter amount">
<button onclick="transferToCategory()">Transfer</button>

<!-- Display category cards -->
<div id="categoryCards"></div>

<!-- Transaction log -->
<h2>Transaction Log</h2>
<ul id="transactionLog"></ul>

<script>
    let total = 0;
    let categories = [];

    function addToTotal() {
        const addMoneyInput = document.getElementById('addMoney');
        const amount = parseFloat(addMoneyInput.value);
        if (!isNaN(amount)) {
            total += amount;
            updateTotal();
            logTransaction(`Added $${amount} to account total.`);
        }
        addMoneyInput.value = '';
    }

    function createCategory() {
        const newCategoryInput = document.getElementById('newCategory');
        const categoryGoalInput = document.getElementById('categoryGoal');

        const categoryName = newCategoryInput.value;
        const categoryGoal = parseFloat(categoryGoalInput.value);

        if (categoryName && !isNaN(categoryGoal)) {
            categories.push({ name: categoryName, goal: categoryGoal, balance: 0 });
            updateCategories();
            logTransaction(`Created new category '${categoryName}' with a goal of $${categoryGoal}.`);
        }

        newCategoryInput.value = '';
        categoryGoalInput.value = '';
    }

    function transferToCategory() {
        const selectCategory = document.getElementById('selectCategory');
        const transferAmountInput = document.getElementById('transferAmount');

        const categoryName = selectCategory.value;
        const transferAmount = parseFloat(transferAmountInput.value);

        const category = categories.find(c => c.name === categoryName);

        if (category && !isNaN(transferAmount) && transferAmount <= total) {
            category.balance += transferAmount;
            total -= transferAmount;
            updateTotal();
            updateCategories();
            logTransaction(`Transferred $${transferAmount} to category '${categoryName}'.`);
        }

        transferAmountInput.value = '';
    }

    function updateTotal() {
        // Update total display
        document.getElementById('totalDisplay').innerText = `$${total.toFixed(2)}`;
    }

    function updateCategories() {
        const categoryCards = document.getElementById('categoryCards');
        categoryCards.innerHTML = '';

        categories.forEach(category => {
            const card = document.createElement('div');
            card.classList.add('category-card');
            card.innerHTML = `<h3>${category.name}</h3>
                             <p>Goal: $${category.goal}</p>
                             <p>Balance: $${category.balance}</p>
                             <p>Goal Progress: ${((category.balance / category.goal) * 100).toFixed(2)}%</p>`;
            categoryCards.appendChild(card);
        });

        // Update select options for transferring money
        const selectCategory = document.getElementById('selectCategory');
        selectCategory.innerHTML = '';
        categories.forEach(category => {
            const option = document.createElement('option');
            option.value = category.name;
            option.textContent = category.name;
            selectCategory.appendChild(option);
        });
    }

    function logTransaction(message) {
        const transactionLog = document.getElementById('transactionLog');
        const listItem = document.createElement('li');
        listItem.innerText = `${getCurrentDateTime()} - ${message}`;
        transactionLog.appendChild(listItem);
    }

    function getCurrentDateTime() {
        const now = new Date();
        return `${now.toLocaleDateString()} ${now.toLocaleTimeString()}`;
    }
</script>

</body>
</html>
