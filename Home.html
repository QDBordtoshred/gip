<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Banking App</title>
  <style>
    /* Add your CSS styles here */
  </style>
</head>
<body>

  <h1>Banking App</h1>

  <div>
    <p>Account Total: $<span id="accountTotal">0</span></p>
    <label for="addAmount">Add Amount: $</label>
    <input type="number" id="addAmount">
    <button onclick="addToAccount()">Add</button>
  </div>

  <div>
    <label for="newCategory">New Category:</label>
    <input type="text" id="newCategory">
    <label for="categoryGoal">Category Goal: $</label>
    <input type="number" id="categoryGoal">
    <button onclick="addCategory()">Create Category</button>
  </div>

  <div id="categoryList">
    <!-- Category cards will be added here -->
  </div>

  <div>
    <label for="existingCategories">Select Category:</label>
    <select id="existingCategories"></select>
    <label for="categoryAmount">Amount: $</label>
    <input type="number" id="categoryAmount">
    <button onclick="updateCategoryBalance()">Update Category</button>
  </div>

  <div id="log">
    <!-- Transaction log will be added here -->
  </div>

  <script>
    let accountTotal = 0;
    let categories = [];

    function addToAccount() {
      const addAmount = parseFloat(document.getElementById('addAmount').value);
      if (!isNaN(addAmount)) {
        accountTotal += addAmount;
        document.getElementById('accountTotal').innerText = accountTotal.toFixed(2);
        logTransaction(`Added $${addAmount} to account total.`);
      }
    }

    function addCategory() {
      const newCategory = document.getElementById('newCategory').value;
      const categoryGoal = parseFloat(document.getElementById('categoryGoal').value);
      if (newCategory && !isNaN(categoryGoal)) {
        categories.push({ name: newCategory, goal: categoryGoal, balance: 0 });
        updateCategoryList();
        logTransaction(`Created category "${newCategory}" with a goal of $${categoryGoal}.`);
      }
    }

    function updateCategoryList() {
      const selectElement = document.getElementById('existingCategories');
      selectElement.innerHTML = '';
      for (const category of categories) {
        const option = document.createElement('option');
        option.value = category.name;
        option.innerText = category.name;
        selectElement.appendChild(option);
      }

      // Update category cards
      const categoryListElement = document.getElementById('categoryList');
      categoryListElement.innerHTML = '';
      for (const category of categories) {
        const card = document.createElement('div');
        card.innerHTML = `<p>${category.name} - Goal: $${category.goal} | Balance: $${category.balance.toFixed(2)}</p>`;
        const percentage = (category.balance / category.goal) * 100;
        card.innerHTML += `<p>Progress: ${percentage.toFixed(2)}%</p>`;
        categoryListElement.appendChild(card);
      }
    }

    function updateCategoryBalance() {
      const selectedCategory = document.getElementById('existingCategories').value;
      const categoryAmount = parseFloat(document.getElementById('categoryAmount').value);
      if (selectedCategory && !isNaN(categoryAmount)) {
        const category = categories.find(cat => cat.name === selectedCategory);
        if (category && categoryAmount <= accountTotal) {
          category.balance += categoryAmount;
          accountTotal -= categoryAmount;
          document.getElementById('accountTotal').innerText = accountTotal.toFixed(2);
          updateCategoryList();
          logTransaction(`Transferred $${categoryAmount} from account to category "${selectedCategory}".`);
        }
      }
    }

    function logTransaction(message) {
      const logElement = document.getElementById('log');
      const logEntry = document.createElement('p');
      logEntry.innerText = `${new Date().toLocaleString()} - ${message}`;
      logElement.appendChild(logEntry);
    }
  </script>

</body>
</html>
